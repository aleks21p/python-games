<!DOCTYPE html>
<html>
<head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <title>Zombie Shooter — JavaSnake.com</title>
    <!-- Favicon: embedded SVG so page shows an icon in browser tabs without extra files -->
    <link rel="icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='16' fill='%231b1b1b'/><circle cx='50' cy='40' r='18' fill='%237be37a'/><circle cx='42' cy='36' r='3' fill='%23000'/><circle cx='58' cy='36' r='3' fill='%23000'/><rect x='40' y='52' width='20' height='6' rx='3' fill='%23000'/></svg>">
    <link rel="shortcut icon" href="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='16' fill='%231b1b1b'/><circle cx='50' cy='40' r='18' fill='%237be37a'/><circle cx='42' cy='36' r='3' fill='%23000'/><circle cx='58' cy='36' r='3' fill='%23000'/><rect x='40' y='52' width='20' height='6' rx='3' fill='%23000'/></svg>">
    <meta name="theme-color" content="#1b1b1b">
        <meta name="description" content="Zombie Shooter — top-down arcade HTML5 game. Fight waves of zombies, collect power-ups and upgrade your weapons.">
        <meta property="og:site_name" content="JavaSnake.com">
        <meta property="og:title" content="Zombie Shooter — JavaSnake.com">
        <meta property="og:description" content="Top-down zombie shooter with upgrades, pets and boss battles. Play in your browser.">
        <meta property="og:type" content="game">
        <meta property="og:url" content="https://javasnake.com/zombie-shooter/aleks-ZS.html">
        <meta property="og:image" content="https://javasnake.com/games-HTML5/preview.png">
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Zombie Shooter — JavaSnake.com">
        <meta name="twitter:description" content="Top-down zombie shooter with upgrades, pets and boss battles. Play in your browser.">
        <meta name="twitter:image" content="https://javasnake.com/games-HTML5/preview.png">
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Game",
            "name": "Zombie Shooter",
            "description": "Top-down zombie shooter with upgrades, pets and boss battles.",
            "url": "https://javasnake.com/zombie-shooter/aleks-ZS.html"
        }
        </script>
        <style>
        canvas {
            border: 1px solid #000;
            display: block;
            margin: 0 auto;
            background: #000;
            /* Make the canvas scale responsively while keeping its internal resolution */
            width: 100%;
            max-width: 100vw; /* never exceed viewport width */
            height: auto; /* maintain aspect ratio */
            max-height: 100vh; /* don't overflow vertically */
            box-sizing: border-box;
            touch-action: none; /* prevent browser touch gestures while interacting with game */
        }
        body {
            display: flex;
            justify-content: center; 
            align-items: center;
            height: 100vh;
            margin: 0;
            background: #222;
        }
    </style>
    <style>
        /* Mobile layout helper class - body.mobile-layout indicates a narrow/touch viewport */
        body.mobile-layout {
            --hud-scale: 1.15; /* hint for scripts / CSS to use */
        }
        @media (max-width: 720px) {
            /* triggers mobile-layout via script when viewport is narrow */
        }
    </style>
</head>
<body>
    <!-- fixed internal resolution matches game constants (800x600); CSS will scale it to fit the viewport -->
    <canvas id="gameCanvas" width="800" height="600" aria-label="Zombie Shooter game canvas"></canvas>
    <script>
        // Ensure crisp rendering on high-DPR devices (runs before game.js initializes)
        (function() {
            try {
                const canvas = document.getElementById('gameCanvas');
                if (!canvas) return;
                const dpr = Math.min(window.devicePixelRatio || 1, 3); // cap DPR to avoid huge buffers

                // Determine the CSS display size the canvas should have (fit viewport while preserving 4:3 aspect)
                const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
                const vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
                // target aspect 4:3 (800x600)
                const targetAspect = 800/600;
                let cssWidth = vw;
                let cssHeight = Math.round(cssWidth / targetAspect);
                if (cssHeight > vh) {
                    cssHeight = vh;
                    cssWidth = Math.round(cssHeight * targetAspect);
                }

                // Apply CSS size
                canvas.style.width = cssWidth + 'px';
                canvas.style.height = cssHeight + 'px';

                // Set backing store size for crisp rendering (scaled by DPR)
                canvas.width = Math.round(800 * dpr);
                canvas.height = Math.round(600 * dpr);

                // Scale the drawing context so game code may continue using 800x600 logical coords
                const ctx = canvas.getContext('2d');
                if (ctx && dpr !== 1) {
                    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
                }

                // Expose flag for game.js (in case it wants to skip resizing)
                window.__GAME_CANVAS_SCALED = true;
            } catch (e) {
                // ignore
            }
        })();
        // Toggle mobile-layout class for responsive adjustments (also accessible to game.js)
        (function() {
            function updateMobileClass() {
                try {
                    const isTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
                    const vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
                    const isNarrow = vw <= 720;
                    if (isTouch || isNarrow) document.body.classList.add('mobile-layout');
                    else document.body.classList.remove('mobile-layout');
                } catch (e) {}
            }
            updateMobileClass();
            window.addEventListener('resize', updateMobileClass);
            window.addEventListener('orientationchange', updateMobileClass);
        })();
    </script>
    <script src="game.js"></script>
</body>
</html>
