<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Enhanced SEO Meta Tags for JavaSnake keyword targeting -->
    <title>JavaSnake.com - üêçHTML5 Games Platformüêç</title>
    <meta name="description" content="JavaSnake.com is the ultimate destination for JavaSnake gaming. Play exclusive JavaSnake HTML5 games including Zombie Shooter, Space Shooter, Tetris, Dino Jump, Wordle Unlimited, and Soundboard. Experience JavaSnake's premium browser gaming platform with mobile-optimized controls and instant play.">
    <meta name="keywords" content="javasnake, java snake, javasnake.com, javasnake games, javasnake gaming, javasnake platform, HTML5 games, browser games, zombie shooter javasnake, space shooter javasnake, tetris javasnake, dino jump javasnake, wordle unlimited javasnake, soundboard javasnake, word games, wordle, mobile games, web games, online games, arcade games, indie games, free games">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="author" content="JavaSnake Gaming Platform">
    <meta name="publisher" content="JavaSnake.com">
    <link rel="canonical" href="https://javasnake.com/">
    
    <!-- Website Icons and Favicons -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêç</text></svg>">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#16213e">
    <meta name="msapplication-TileColor" content="#16213e">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Open Graph / Social preview -->
    <meta property="og:site_name" content="JavaSnake.com">
    <meta property="og:title" content="JavaSnake.com - Premium JavaSnake HTML5 Games Platform">
    <meta property="og:description" content="JavaSnake.com offers the best JavaSnake gaming experience with premium HTML5 games. Play JavaSnake Zombie Shooter, Space Shooter, Tetris, Dino Jump, Wordle Unlimited, and Soundboard. Mobile-optimized JavaSnake games with instant browser play.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://javasnake.com/">
    <!-- Consider replacing with an actual preview image if available -->
    <meta property="og:image" content="https://javasnake.com/games-HTML5/preview.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="JavaSnake.com - Premium JavaSnake HTML5 Games Platform">
    <meta name="twitter:description" content="JavaSnake.com offers the best JavaSnake gaming experience with premium HTML5 games. Play JavaSnake Zombie Shooter, Space Shooter, Tetris, Dino Jump, Wordle Unlimited, and Soundboard. Mobile-optimized JavaSnake games with instant browser play.">
    <meta name="twitter:image" content="https://javasnake.com/games-HTML5/preview.png">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&amp;family=Exo+2:wght@300;400;600;800&amp;display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: linear-gradient(135deg, #051505 0%, #061b06 25%, #0d270d 50%, #081d08 75%, #0a270a 100%);
            background-attachment: fixed;
            min-height: 100vh;
            overflow-x: hidden;
            color: #fff;
        }

        /* Visible Low Power background + muted effects */
        body.low-power {
            /* vivid red background to make low-power state unmistakable */
            background: linear-gradient(135deg, #b31217 0%, #ff2d2d 100%);
            transition: background 300ms ease;
            color: #ffffff; /* ensure readable text */
        }

        body.low-power .logo {
            /* mute neon glow but keep readable on red */
            filter: grayscale(0.2) brightness(0.95);
            text-shadow: none;
            background: linear-gradient(45deg, #00ff00, #33ff33, #00cc44, #00ff00);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        body.low-power .play-button {
            opacity: 0.95;
            box-shadow: none;
            background: linear-gradient(90deg, #ff6b6b, #ff8a8a); /* softer on red */
            color: #111;
        }

        /* Light Mode */
        body.light-mode {
            background: linear-gradient(135deg, #f5f5f5 0%, #e8f4f8 25%, #e0f2f7 50%, #f0f8fa 75%, #f5f5f5 100%);
            color: #333;
        }

        body.light-mode .logo {
            background: linear-gradient(45deg, #0066cc, #0099ff, #00ccff);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        body.light-mode .header {
            color: #333;
        }

        body.light-mode .subtitle {
            color: rgba(51, 51, 51, 0.8);
        }

        body.light-mode .game-card {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid rgba(78, 205, 196, 0.5);
            color: #333;
        }

        body.light-mode .game-card:hover {
            background: rgba(255, 255, 255, 1);
            border-color: rgba(78, 205, 196, 0.8);
        }

        body.light-mode .game-title,
        body.light-mode .game-description {
            color: #333;
        }

        body.light-mode .play-button {
            color: white;
        }

        body.light-mode .footer {
            color: rgba(51, 51, 51, 0.7);
        }

        body.light-mode .low-power-toggle {
            color: rgba(51, 51, 51, 0.9);
        }

        /* Animated background particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.1; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.3; }
        }

        /* Main container */
        .container {
            position: relative;
            z-index: 10;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Blinking neon header */
        .header {
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
            overflow: visible; /* allow neon glow to show and prevent clipping */
        }

        .logo {
            font-family: 'Orbitron', monospace;
            /* scaled down 15% for a slightly smaller neon sign */
            font-size: clamp(2.55rem, 6.8vw, 5.95rem);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            background: linear-gradient(45deg, #90ee90, #98fb98, #8fbc8f, #7cfc00, #7fff00, #adff2f, #90ee90);
            background-size: 600% 600%;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: gradientShift 8s ease-in-out infinite, neonBlink 6s ease-in-out infinite;
            text-shadow: 
                0 0 6px rgba(144, 238, 144, 0.8),
                0 0 12px rgba(152, 251, 152, 0.6),
                0 0 20px rgba(124, 252, 0, 0.4),
                0 0 30px rgba(144, 238, 144, 0.6);
            position: relative;
            display: inline-block; /* keep it on one line and allow padding */
            white-space: nowrap; /* prevent wrapping that can chop characters */
            -webkit-text-fill-color: transparent; /* ensure gradient clip works in Chrome */
            padding: 0 8px; /* small horizontal padding so last glyph doesn't get clipped */
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes neonBlink {
            0% { 
                filter: brightness(0.95) saturate(1);
                text-shadow: 
                    0 0 3px rgba(144, 238, 144, 0.4),
                    0 0 6px rgba(144, 238, 144, 0.3),
                    0 0 10px rgba(144, 238, 144, 0.2),
                    0 0 15px rgba(144, 238, 144, 0.3);
            }
            14% { 
                filter: brightness(1) saturate(1.1);
                text-shadow: 
                    0 0 4px rgba(152, 251, 152, 0.45),
                    0 0 7px rgba(152, 251, 152, 0.35),
                    0 0 12px rgba(152, 251, 152, 0.25),
                    0 0 18px rgba(152, 251, 152, 0.3);
            }
            28% { 
                filter: brightness(1.05) saturate(1.15);
                text-shadow: 
                    0 0 5px rgba(143, 188, 143, 0.5),
                    0 0 8px rgba(143, 188, 143, 0.4),
                    0 0 14px rgba(143, 188, 143, 0.3),
                    0 0 20px rgba(143, 188, 143, 0.35);
            }
            42% { 
                filter: brightness(1.1) saturate(1.2);
                text-shadow: 
                    0 0 5px rgba(124, 252, 0, 0.5),
                    0 0 9px rgba(124, 252, 0, 0.4),
                    0 0 15px rgba(124, 252, 0, 0.3),
                    0 0 22px rgba(124, 252, 0, 0.35);
            }
            57% { 
                filter: brightness(1.05) saturate(1.15);
                text-shadow: 
                    0 0 5px rgba(127, 255, 0, 0.5),
                    0 0 8px rgba(127, 255, 0, 0.4),
                    0 0 14px rgba(127, 255, 0, 0.3),
                    0 0 20px rgba(127, 255, 0, 0.35);
            }
            71% { 
                filter: brightness(1) saturate(1.1);
                text-shadow: 
                    0 0 4px rgba(173, 255, 47, 0.45),
                    0 0 7px rgba(173, 255, 47, 0.35),
                    0 0 12px rgba(173, 255, 47, 0.25),
                    0 0 18px rgba(173, 255, 47, 0.3);
            }
            85% { 
                filter: brightness(0.98) saturate(1.05);
                text-shadow: 
                    0 0 3px rgba(154, 205, 50, 0.4),
                    0 0 6px rgba(154, 205, 50, 0.3),
                    0 0 11px rgba(154, 205, 50, 0.2),
                    0 0 16px rgba(154, 205, 50, 0.3);
            }
            100% { 
                filter: brightness(0.95) saturate(1);
                text-shadow: 
                    0 0 3px rgba(144, 238, 144, 0.4),
                    0 0 6px rgba(144, 238, 144, 0.3),
                    0 0 10px rgba(144, 238, 144, 0.2),
                    0 0 15px rgba(144, 238, 144, 0.3);
            }
        }

        .subtitle {
            font-size: clamp(1rem, 3vw, 1.5rem);
            color: rgba(255, 255, 255, 0.8);
            margin-top: 1rem;
            font-weight: 300;
            letter-spacing: 0.1em;
        }

        /* Low Power Mode toggle */
        .low-power-toggle {
            position: absolute;
            right: 1.5rem;
            top: 0.8rem;
            z-index: 30;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            color: rgba(255,255,255,0.9);
            font-size: 0.95rem;
            user-select: none;
        }

        .toggle-switch {
            width: 46px;
            height: 26px;
            background: rgba(255,255,255,0.15);
            border-radius: 999px;
            position: relative;
            cursor: pointer;
            transition: background 0.2s ease;
            border: 1px solid rgba(255,255,255,0.08);
            padding: 0;
            margin: 0;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            pointer-events: auto;
            -webkit-user-select: none;
            user-select: none;
        }

        .toggle-switch .knob {
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: left 0.2s ease, transform 0.2s ease;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
            pointer-events: none;
        }

        .toggle-switch.on { background: linear-gradient(90deg, #4ecdc4, #45b7d1); }
        .toggle-switch.on .knob { left: 23px; transform: scale(0.98); }

        /* Low-power global adjustments */
        .low-power .particles,
        .low-power .sparkle { display: none !important; }
        .low-power .game-card { backdrop-filter: none !important; box-shadow: none !important; }

        /* Low power active badge */
        .low-power-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.08);
            color: #fff;
            font-size: 0.7rem;
            padding: 4px 8px;
            border-radius: 999px;
            border: 1px solid rgba(255,255,255,0.06);
            margin-left: 0.4rem;
            box-shadow: 0 2px 6px rgba(0,0,0,0.25);
        }

        /* Games grid */
        .games-grid {
            display: grid;
            /* allow small devices to fit cards better */
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2.5rem;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }

        .game-card:hover::before {
            left: 100%;
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.02);
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(255, 255, 255, 0.1);
        }

        .game-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
            width: 80px;
            height: 80px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .game-icon svg {
            width: 100%;
            height: 100%;
        }

        .game-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #90ee90, #98fb98, #7cfc00);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 
                0 0 3px rgba(144, 238, 144, 0.4),
                0 0 6px rgba(152, 251, 152, 0.3),
                0 0 10px rgba(124, 252, 0, 0.2),
                0 0 15px rgba(144, 238, 144, 0.3);
        }

        .game-description {
            color: rgba(180, 200, 180, 0.85);
            margin-bottom: 2rem;
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .play-button {
            display: inline-block;
            padding: 1rem 2rem;
            background: linear-gradient(45deg, #3cb371, #90ee90);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .play-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #90ee90, #3cb371);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .play-button:hover::before {
            left: 0;
        }

        .play-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(144, 238, 144, 0.4);
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 4rem;
            padding: 2rem;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, rgba(5, 21, 5, 0.95), rgba(6, 27, 6, 0.95));
            border-top: 2px solid rgba(78, 205, 196, 0.3);
            transition: transform 0.3s ease;
            width: 100%;
            box-sizing: border-box;
            z-index: 1000;
        }

        /* Minimize button in footer */
        #footer-minimize-btn {
            position: fixed;
            bottom: 2rem;
            right: 1.5rem;
            background: linear-gradient(135deg, #4ecdc4, #45b7d1);
            border: 2px solid #4ecdc4;
            color: #fff;
            padding: 0.8rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.5rem;
            font-weight: bold;
            transition: all 0.3s ease;
            min-width: 48px;
            min-height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            pointer-events: auto;
            -webkit-user-select: none;
            user-select: none;
            z-index: 9998;
            box-shadow: 0 4px 12px rgba(78, 205, 196, 0.4);
        }

        #footer-minimize-btn:hover {
            background: linear-gradient(135deg, #5eddd4, #55c7e1);
            box-shadow: 0 6px 16px rgba(78, 205, 196, 0.6);
            transform: scale(1.1);
        }

        #footer-minimize-btn:active {
            transform: scale(0.95);
        }
        
        @media (max-width: 768px) {
            #footer-minimize-btn {
                padding: 0.6rem 0.8rem;
                font-size: 1.2rem;
                min-width: 40px;
                min-height: 40px;
                bottom: 1rem;
            }
        }

        /* Restore tab */
        #footer-restore-tab {
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(78, 205, 196, 0.7);
            border: 2px solid rgba(78, 205, 196, 1);
            color: #000;
            padding: 0.75rem 1.5rem;
            border-radius: 4px 4px 0 0;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            display: none;
            z-index: 999;
        }

        #footer-restore-tab:hover {
            background: rgba(78, 205, 196, 0.9);
            box-shadow: 0 0 15px rgba(78, 205, 196, 0.6);
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .games-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .game-card {
                padding: 2rem;
            }
            
            .container {
                padding: 1rem;
            }
        }

        /* Mobile-specific optimizations */
        @media (max-width: 600px) {
            /* Turn off heavy visuals on small screens to save battery/CPU */
            .particles, .sparkle { display: none !important; }
            .game-card { backdrop-filter: none; /* fallback for unsupported/expensive blur */ }
        }

        @media (max-width: 420px) {
            /* mobile logo reduced by 15% */
            .logo { font-size: clamp(1.53rem, 10.2vw, 3.57rem); padding: 0 6px; }
            .play-button { display: block; width: 100%; box-sizing: border-box; }
            .game-icon { font-size: 3rem; }
        }

        /* Glowing border animation */
        @keyframes borderGlow {
            0%, 100% { border-color: rgba(144, 238, 144, 0.3); }
            50% { border-color: rgba(152, 251, 152, 0.6); }
        }

        .game-card {
            animation: borderGlow 4s ease-in-out infinite;
        }

        /* Additional sparkle effects */
        .sparkle {
            position: absolute;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: sparkle 2s linear infinite;
        }

        @keyframes sparkle {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1) rotate(180deg); opacity: 0.5; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }

        /* Twinkling stars */
        .star {
            position: absolute;
            width: 2px;
            height: 2px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 50%;
            pointer-events: none;
            z-index: 5;
            box-shadow: 0 0 3px rgba(255, 255, 255, 0.4);
        }

        @keyframes twinkle {
            0%, 100% { 
                opacity: 0.3;
                box-shadow: 0 0 2px rgba(255, 255, 255, 0.2);
            }
            50% { 
                opacity: 0.8;
                box-shadow: 0 0 6px rgba(255, 255, 255, 0.6);
            }
        }
    </style>

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6Z7KK3PVNK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-6Z7KK3PVNK');
    </script>
</head>
<body>
    <!-- Deployment Info Display (top-left) -->
    <div id="deployment-info" style="position: fixed; top: 10px; left: 10px; z-index: 9999; background: rgba(0,0,0,0.7); color: #4ecdc4; padding: 10px 15px; border-radius: 4px; font-size: 0.75rem; font-family: 'Courier New', monospace; max-width: 300px; line-height: 1.3;"></div>

    <!-- Dark/Light Mode toggle (positioned top-right) -->
    <div class="low-power-toggle" role="region" aria-label="Theme Mode">
        <button id="themeSwitch" class="toggle-switch" role="switch" aria-checked="true" aria-label="Dark/Light Mode" title="Toggle Dark/Light Mode">
            <div class="knob"></div>
        </button>
        <span id="themeLabel">Dark</span>
    </div>

    <!-- Site-wide mute toggle (moved to top-left) -->
    <div class="low-power-toggle" style="left:10px; top:10px; right:auto; position:fixed; z-index:10001;" role="region" aria-label="Mute site audio">
        <button id="siteMuteBtn" class="toggle-switch" aria-pressed="false" title="Mute / Unmute site audio" style="display:flex;align-items:center;justify-content:center;padding:6px 10px; min-width:44px;">
            <span id="siteMuteIcon"><svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z"/></svg></span>
        </button>
    </div>

    <!-- ARIA live region for assistive announcements -->
    <div id="ariaLive" aria-live="polite" aria-atomic="true" style="position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden;"> </div>

    <!-- Animated background particles -->
    <div class="particles" id="particles"></div>

    <div class="container">
        <header class="header">
            <h1 class="logo"> JavaSnake</h1>
            <p class="subtitle">Premium HTML5 Gaming Platform</p>
        </header>

        <div class="games-grid">
            <!-- Row 1: Soundboard, Tetris, Zombie Shooter -->
            <!-- Soundboard -->
            <div class="game-card">
                <div class="game-icon"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect x="25" y="15" width="40" height="70" rx="8" fill="#1a1a2e" stroke="#4ecdc4" stroke-width="3"/><circle cx="45" cy="35" r="12" fill="#2d3561" stroke="#45b7d1" stroke-width="2"/><circle cx="45" cy="35" r="8" fill="#45b7d1"/><circle cx="45" cy="65" r="15" fill="#2d3561" stroke="#00ff88" stroke-width="2"/><circle cx="45" cy="65" r="10" fill="#00ff88"/><path d="M 70 30 Q 80 35 70 40" fill="none" stroke="#4ecdc4" stroke-width="3" stroke-linecap="round"/><path d="M 75 25 Q 88 35 75 45" fill="none" stroke="#45b7d1" stroke-width="2.5" stroke-linecap="round"/><path d="M 70 60 Q 80 65 70 70" fill="none" stroke="#00ff88" stroke-width="3" stroke-linecap="round"/><path d="M 75 55 Q 88 65 75 75" fill="none" stroke="#00ff00" stroke-width="2.5" stroke-linecap="round"/></svg></div>
                <h2 class="game-title">Soundboard</h2>
                <p class="game-description">
                    Interactive soundboard with fun audio clips! Play various sound effects 
                    with the click of a button. Features volume control, multiple sounds, 
                    and an entertaining collection of audio clips!
                </p>
                <a href="soundboard/soundboard.html" class="play-button">Play Now</a>
            </div>

            <!-- Tetris Game -->
            <div class="game-card">
                <div class="game-icon"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect x="20" y="20" width="15" height="15" fill="#ff6b6b" stroke="#fff" stroke-width="2"/><rect x="35" y="20" width="15" height="15" fill="#4ecdc4" stroke="#fff" stroke-width="2"/><rect x="50" y="20" width="15" height="15" fill="#f9ca24" stroke="#fff" stroke-width="2"/><rect x="65" y="20" width="15" height="15" fill="#a29bfe" stroke="#fff" stroke-width="2"/><rect x="20" y="35" width="15" height="15" fill="#00b894" stroke="#fff" stroke-width="2"/><rect x="35" y="35" width="15" height="15" fill="#fd79a8" stroke="#fff" stroke-width="2"/><rect x="50" y="35" width="15" height="15" fill="#00cec9" stroke="#fff" stroke-width="2"/><rect x="35" y="50" width="15" height="15" fill="#ffeaa7" stroke="#fff" stroke-width="2"/><rect x="50" y="50" width="15" height="15" fill="#74b9ff" stroke="#fff" stroke-width="2"/><rect x="65" y="50" width="15" height="15" fill="#ff7675" stroke="#fff" stroke-width="2"/><rect x="50" y="65" width="15" height="15" fill="#55efc4" stroke="#fff" stroke-width="2"/></svg></div>
                <h2 class="game-title">Tetris</h2>
                <p class="game-description">
                    Classic falling block puzzle game! Clear lines by filling rows completely, 
                    with increasing speed and difficulty. Features smooth controls, 
                    line clearing effects, and endless addictive gameplay!
                    And Now with leaderboard to track high scores!
                </p>
                <a href="tetris/tetris.html" class="play-button">Play Now</a>
            </div>

            <!-- Zombie Shooter Game -->
            <div class="game-card">
                <div class="game-icon"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect x="10" y="38" width="50" height="24" rx="3" fill="#2a2a2a" stroke="#1a1a1a" stroke-width="2.5"/><rect x="60" y="42" width="30" height="16" rx="2" fill="#3d3d3d" stroke="#1a1a1a" stroke-width="2"/><rect x="4" y="43" width="10" height="14" rx="2" fill="#1a1a1a" stroke="#0a0a0a" stroke-width="1.5"/><circle cx="9" cy="50" r="3" fill="#4a4a4a"/><rect x="15" y="32" width="6" height="6" rx="1" fill="#4a4a4a" stroke="#2a2a2a" stroke-width="1.5"/><rect x="25" y="32" width="6" height="6" rx="1" fill="#4a4a4a" stroke="#2a2a2a" stroke-width="1.5"/><rect x="35" y="32" width="6" height="6" rx="1" fill="#4a4a4a" stroke="#2a2a2a" stroke-width="1.5"/><rect x="45" y="32" width="6" height="6" rx="1" fill="#4a4a4a" stroke="#2a2a2a" stroke-width="1.5"/><path d="M 10 62 L 60 62" stroke="#1a1a1a" stroke-width="2" stroke-linecap="round"/><rect x="40" y="44" width="4" height="12" fill="#1a1a1a"/><rect x="20" y="48" width="2" height="4" fill="#555"/><rect x="30" y="48" width="2" height="4" fill="#555"/><rect x="50" y="48" width="2" height="4" fill="#555"/><polygon points="60,46 65,42 70,42 70,58 65,58 60,54" fill="#2a2a2a" stroke="#1a1a1a" stroke-width="1.5"/><rect x="88" y="47" width="8" height="6" rx="1" fill="#ff4444"/><path d="M 70 44 L 88 44 L 88 56 L 70 56" fill="#3d3d3d" stroke="#1a1a1a" stroke-width="1.5"/><circle cx="75" cy="50" r="2" fill="#666"/><rect x="12" y="58" width="8" height="6" rx="1" fill="#1a1a1a"/></svg></div>
                <h2 class="game-title">Zombie Shooter</h2>
                <p class="game-description">
                    Survive the undead apocalypse! Battle waves of zombies, collect power-ups, 
                    and upgrade your arsenal in this intense top-down shooter. Features boss battles, 
                    multiple weapon types, and endless zombie-slaying action!
                </p>
                <a href="zombie-shooter/aleks-ZS.html" class="play-button">Play Now</a>
            </div>

            <!-- Row 2: Space Shooter, Dino Jump -->
            <!-- Tic Tac Toe Game -->
            <div class="game-card">
                <div class="game-icon"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect x="10" y="10" width="80" height="80" fill="none" stroke="#4ecdc4" stroke-width="3" rx="5"/><line x1="10" y1="36.67" x2="90" y2="36.67" stroke="#4ecdc4" stroke-width="3"/><line x1="10" y1="63.33" x2="90" y2="63.33" stroke="#4ecdc4" stroke-width="3"/><line x1="36.67" y1="10" x2="36.67" y2="90" stroke="#4ecdc4" stroke-width="3"/><line x1="63.33" y1="10" x2="63.33" y2="90" stroke="#4ecdc4" stroke-width="3"/><circle cx="23.33" cy="23.33" r="8" fill="none" stroke="#ff6b6b" stroke-width="3"/><path d="M 43 43 L 57 57 M 57 43 L 43 57" stroke="#45b7d1" stroke-width="3" stroke-linecap="round"/><circle cx="76.67" cy="76.67" r="8" fill="none" stroke="#ff6b6b" stroke-width="3"/></svg></div>
                <h2 class="game-title">Tic Tac Toe+</h2>
                <p class="game-description">
                    Classic strategy game with multiple modes! Play against AI with Easy, Medium, 
                    or Hard difficulty levels, or challenge a friend in Player vs Player mode. 
                    Features smart AI that adapts to your skill level!
                </p>
                <a href="tic-tac-toe/tictoe.html" class="play-button">Play Now</a>
            </div>

            <!-- Dino Jump Game -->
            <div class="game-card">
                <div class="game-icon"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><ellipse cx="38" cy="38" rx="18" ry="20" fill="#2d7a2d" stroke="#1a5c1a" stroke-width="2"/><ellipse cx="48" cy="60" rx="24" ry="20" fill="#3d8b3d" stroke="#1a5c1a" stroke-width="2"/><path d="M 25 32 Q 18 28 20 35 Q 22 40 28 38" fill="#2d7a2d" stroke="#1a5c1a" stroke-width="1.5"/><circle cx="34" cy="36" r="3" fill="#000"/><circle cx="35" cy="35" r="1" fill="#fff"/><path d="M 28 44 Q 32 46 36 44" stroke="#1a5c1a" stroke-width="1.5" fill="none" stroke-linecap="round"/><rect x="28" y="76" width="12" height="16" rx="3" fill="#2d7a2d" stroke="#1a5c1a" stroke-width="1.5"/><rect x="48" y="76" width="12" height="16" rx="3" fill="#2d7a2d" stroke="#1a5c1a" stroke-width="1.5"/><ellipse cx="34" cy="93" rx="4" ry="2" fill="#1a5c1a"/><ellipse cx="54" cy="93" rx="4" ry="2" fill="#1a5c1a"/><path d="M 65 55 Q 72 58 70 64" stroke="#1a5c1a" stroke-width="2" fill="none" stroke-linecap="round"/></svg></div>
                <h2 class="game-title">Dino Jump</h2>
                <p class="game-description">
                    Classic endless runner! Jump over cacti and dodge pterodactyls in this 
                    thrilling dinosaur adventure. Features increasing speed, multiple obstacles, 
                    and addictive gameplay that gets faster as you progress!
                </p>
                <a href="dino-jump/dino-jump.html" class="play-button">Play Now</a>
            </div>

            <!-- Pingball Game -->
            <div class="game-card">
                <div class="game-icon"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect x="15" y="10" width="70" height="80" rx="8" fill="#1a1a2e" stroke="#4ecdc4" stroke-width="3"/><circle cx="35" cy="35" r="8" fill="#ff6b6b"/><circle cx="65" cy="35" r="8" fill="#feca57"/><circle cx="50" cy="55" r="8" fill="#48dbfb"/><circle cx="50" cy="25" r="5" fill="#fff" opacity="0.9"/><path d="M 20 75 L 30 85 L 20 85 Z" fill="#45b7d1"/><path d="M 80 75 L 70 85 L 80 85 Z" fill="#45b7d1"/><rect x="25" y="82" width="8" height="6" rx="1" fill="#4ecdc4"/><rect x="67" y="82" width="8" height="6" rx="1" fill="#4ecdc4"/><line x1="45" y1="88" x2="55" y2="88" stroke="#ff6b6b" stroke-width="2" stroke-linecap="round"/></svg></div>
                <h2 class="game-title">Pingball</h2>
                <p class="game-description">
                   A plinko inspired ball drop game! Drop balls from the top and watch them
                   bounce through a field of pegs to land in scoring zones at the bottom.
                   Features multiple ball colors, scoring zones, and addictive physics-based gameplay!
                </p>
                <a href="pingball/pingball.html" class="play-button">Play Now</a>
            </div>

            <!-- Wordle Unlimited Game -->
            <div class="game-card">
                <div class="game-icon"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect x="15" y="15" width="70" height="70" rx="6" fill="#1a1a2e" stroke="#4ecdc4" stroke-width="3"/><rect x="22" y="25" width="10" height="10" rx="2" fill="#6aaa64"/><rect x="34" y="25" width="10" height="10" rx="2" fill="#6aaa64"/><rect x="46" y="25" width="10" height="10" rx="2" fill="#c9b458"/><rect x="58" y="25" width="10" height="10" rx="2" fill="#787c7e"/><rect x="70" y="25" width="10" height="10" rx="2" fill="#787c7e"/><rect x="22" y="40" width="10" height="10" rx="2" fill="#c9b458"/><rect x="34" y="40" width="10" height="10" rx="2" fill="#787c7e"/><rect x="46" y="40" width="10" height="10" rx="2" fill="#6aaa64"/><rect x="58" y="40" width="10" height="10" rx="2" fill="#6aaa64"/><rect x="70" y="40" width="10" height="10" rx="2" fill="#c9b458"/><rect x="22" y="55" width="10" height="10" rx="2" fill="#787c7e" opacity="0.5"/><rect x="34" y="55" width="10" height="10" rx="2" fill="#787c7e" opacity="0.5"/><rect x="46" y="55" width="10" height="10" rx="2" fill="#787c7e" opacity="0.5"/><rect x="58" y="55" width="10" height="10" rx="2" fill="#787c7e" opacity="0.5"/><rect x="70" y="55" width="10" height="10" rx="2" fill="#787c7e" opacity="0.5"/></svg></div>
                <h2 class="game-title">Wordle Unlimited</h2>
                <p class="game-description">
                    Unlimited word puzzles! Guess the 5-letter word in 6 tries with 500+ different words. 
                    Features authentic Wordle gameplay, statistics tracking, and endless replay value. 
                    Perfect for word game enthusiasts inspiration and fun!
                </p>
                <a href="wordle-unlimited/wordle-unlimited.html" class="play-button">Play Now</a>
            </div>

            <!-- Arrow Runner Game -->
            <div class="game-card">
                <div class="game-icon"><svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><rect x="10" y="10" width="80" height="80" rx="4" fill="#060608" stroke="#00F5FF" stroke-width="2.5"/><polygon points="70,50 30,30 30,70" fill="#00F5FF" stroke="#000" stroke-width="1.5"/><circle cx="70" cy="50" r="3" fill="#00F5FF" opacity="0.8"/><rect x="15" y="78" width="70" height="3" fill="#fff"/><polygon points="25,72 25,78 22,78" fill="#fff"/><polygon points="40,68 40,78 37,78" fill="#fff"/><polygon points="58,74 58,78 55,78" fill="#fff"/><polygon points="72,70 72,78 69,78" fill="#fff"/></svg></div>
                <h2 class="game-title">Arrow Runner</h2>
                <p class="game-description">
                    Minimalist precision runner! Navigate through 6 handcrafted levels of increasing difficulty. 
                    Hold to rise, release to fall ‚Äî avoid spikes, floating blocks, and moving walls. 
                    Features tight physics and unforgiving collision detection!
                </p>
                <a href="arrow-runner/arrow-runner.html" class="play-button">Play Now</a>
            </div>
        </div>

        <footer id="main-footer" class="footer">
            <p>&#169; 2025 JavaSnake.com - Premium HTML5 Gaming Platform</p>
            <p>By Notmanyleft aka Aleks P</p>
            <p style="font-size:0.75rem; opacity:0.85; margin-top:6px; display:flex; gap:12px; justify-content:center; align-items:center;">
                <a href="/daily-stats.html" style="color:inherit; text-decoration:underline; opacity:0.85;">Daily stats</a>
                <span style="opacity:0.6;">‚Ä¢</span>
                <a href="/weekly-stats.html" style="color:inherit; text-decoration:underline; opacity:0.85;">Weekly stats</a>
                <span style="opacity:0.6;">‚Ä¢</span>
                <a href="/all-time-stats.html" style="color:inherit; text-decoration:underline; opacity:0.85;">All-time stats</a>
            </p>
        </footer>
        
        <!-- Footer Minimize Button (outside footer so it stays visible) -->
        <button id="footer-minimize-btn" title="Minimize footer for 24 hours">‚åÑ</button>
        
        <!-- Footer Restore Tab -->
        <div id="footer-restore-tab" onclick="window.toggleFooter()" title="Click to restore footer">‚Üë Show Footer</div>
    </div>

    <script>
        // Helper function to update footer padding
        function updateFooterPadding(){
            try {
                var f = document.querySelector('footer');
                if (!f) return;
                var h = f.offsetHeight || 100;
                document.body.style.paddingBottom = h + 'px';
            } catch (e) {
                console.warn('updateFooterPadding error', e);
            }
        }

        // Footer minimize/restore functionality with 24-hour expiration
        (function() {
            const ONE_DAY_MS = 24 * 60 * 60 * 1000;
            const footer = document.getElementById('main-footer');
            const restoreTab = document.getElementById('footer-restore-tab');
            const minimizeBtn = document.getElementById('footer-minimize-btn');
            
            function checkFooterState() {
                const hiddenTimestamp = localStorage.getItem('footer-hidden-time');
                if (hiddenTimestamp) {
                    const timeSinceHidden = Date.now() - parseInt(hiddenTimestamp);
                    if (timeSinceHidden < ONE_DAY_MS) {
                        // Still within 24 hours, keep hidden
                        hideFooter(false);
                    } else {
                        // More than 24 hours, show footer again
                        localStorage.removeItem('footer-hidden-time');
                        showFooter(false);
                    }
                } else {
                    showFooter(false);
                }
            }
            
            function hideFooter(saveState = true) {
                footer.style.transform = 'translateY(100%)';
                restoreTab.style.display = 'block';
                if (saveState) {
                    localStorage.setItem('footer-hidden-time', Date.now().toString());
                }
                updateFooterPadding();
            }
            
            function showFooter(saveState = true) {
                footer.style.transform = 'translateY(0)';
                restoreTab.style.display = 'none';
                if (saveState) {
                    localStorage.removeItem('footer-hidden-time');
                }
                updateFooterPadding();
            }
            
            window.toggleFooter = function() {
                const isHidden = footer.style.transform === 'translateY(100%)';
                if (isHidden) {
                    showFooter(true);
                } else {
                    hideFooter(true);
                }
            };
            
            // Add click handler to minimize button
            if (minimizeBtn) {
                minimizeBtn.addEventListener('click', function() {
                    hideFooter(true);
                });
            }
            
            // Check initial state on page load
            checkFooterState();
        })();
        
        // Initialize footer padding and ResizeObserver
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', updateFooterPadding);
        } else {
            updateFooterPadding();
        }
        window.addEventListener('resize', updateFooterPadding);

        // Use ResizeObserver when available for dynamic footer height changes
        try {
            if (window.ResizeObserver) {
                var ro = new ResizeObserver(updateFooterPadding);
                var fEl = document.querySelector('footer');
                if (fEl) ro.observe(fEl);
            }
        } catch (e) {}
        
        // Structured data: List of games for search engines (JSON-LD)
        // NOTE: uses relative URLs; update to absolute URLs if you have a canonical domain.
        (function(){
            const ld = {
                "@context": "https://schema.org",
                "@type": "ItemList",
                "name": "JavaSnake.com Games",
                "url": "https://javasnake.com/",
                "description": "Collection of free HTML5 browser games including Zombie Shooter, Space Shooter, and Tetris.",
                "itemListElement": [
                    {
                        "@type": "ListItem",
                        "position": 1,
                        "item": {
                            "@type": "Game",
                            "name": "Soundboard",
                            "description": "Interactive soundboard with fun audio clips and sound effects.",
                            "url": "https://javasnake.com/soundboard/soundboard.html"
                        }
                    },
                    {
                        "@type": "ListItem",
                        "position": 2,
                        "item": {
                            "@type": "Game",
                            "name": "Tetris",
                            "description": "Classic falling block puzzle game with smooth controls and progressive difficulty.",
                            "url": "https://javasnake.com/tetris/tetris.html"
                        }
                    },
                    {
                        "@type": "ListItem",
                        "position": 3,
                        "item": {
                            "@type": "Game",
                            "name": "Zombie Shooter",
                            "description": "Top-down zombie shooter with upgrades, pets and boss battles.",
                            "url": "https://javasnake.com/zombie-shooter/aleks-ZS.html"
                        }
                    },
                    {
                        "@type": "ListItem",
                        "position": 4,
                        "item": {
                            "@type": "Game",
                            "name": "Space Shooter",
                            "description": "Arcade space shooter with asteroids and alien waves.",
                            "url": "https://javasnake.com/space-shooter/shaungame.html"
                        }
                    },
                    {
                        "@type": "ListItem",
                        "position": 5,
                        "item": {
                            "@type": "Game",
                            "name": "Dino Jump",
                            "description": "Classic endless runner with jumping dinosaur, obstacles, and increasing speed.",
                            "url": "https://javasnake.com/dino-jump/dino-jump.html"
                        }
                    },
                    {
                        "@type": "ListItem",
                        "position": 6,
                        "item": {
                            "@type": "Game",
                            "name": "Wordle Unlimited",
                            "description": "Unlimited word puzzles with 500+ different words. Guess the 5-letter word in 6 tries.",
                            "url": "https://javasnake.com/wordle-unlimited/wordle-unlimited.html"
                        }
                    }
                ]
            };
            const s = document.createElement('script');
            s.type = 'application/ld+json';
            s.text = JSON.stringify(ld);
            document.head.appendChild(s);
        })();
        
        // Theme Mode (Dark/Light) initialization
        window.THEME_MODE = localStorage.getItem('themeMode') || 'dark';
        
        function applyTheme(theme) {
            window.THEME_MODE = theme;
            localStorage.setItem('themeMode', theme);
            
            const isLight = theme === 'light';
            document.body.classList.toggle('light-mode', isLight);
            
            const themeSwitch = document.getElementById('themeSwitch');
            const themeLabel = document.getElementById('themeLabel');
            
            if (themeSwitch) {
                themeSwitch.classList.toggle('on', isLight);
                themeSwitch.setAttribute('aria-checked', isLight ? 'true' : 'false');
            }
            
            if (themeLabel) {
                themeLabel.textContent = isLight ? 'Light' : 'Dark';
            }
            
            const live = document.getElementById('ariaLive');
            if (live) {
                live.textContent = isLight ? 'Light mode enabled' : 'Dark mode enabled';
            }
        }
        
        // Low Power initialization and particle creation
        window.LOW_POWER_MODE = (localStorage.getItem('lowPower') === '1');

        function applyLowPower(enabled) {
            window.LOW_POWER_MODE = !!enabled;
            document.body.classList.toggle('low-power', !!enabled);
            localStorage.setItem('lowPower', !!enabled ? '1' : '0');

            const particlesContainer = document.getElementById('particles');
            const sw = document.getElementById('lowPowerSwitch');
            if (sw) { sw.classList.toggle('on', !!enabled); sw.setAttribute('aria-checked', !!enabled ? 'true' : 'false'); }

            // Update visible badge
            const badge = document.getElementById('lowPowerBadge');
            if (badge) { badge.style.display = !!enabled ? 'inline-flex' : 'none'; }

            // Announce change for screen readers
            const live = document.getElementById('ariaLive');
            if (live) { live.textContent = !!enabled ? 'Low Power Mode enabled' : 'Low Power Mode disabled'; }

            if (enabled) {
                if (particlesContainer) particlesContainer.innerHTML = '';
            } else {
                if (particlesContainer && particlesContainer.children.length === 0) createParticles();
            }
        }

        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            if (!particlesContainer) return;
            if (window.LOW_POWER_MODE) return; // respect low power mode
            // Reduce particle count on narrow screens
            const isNarrow = window.innerWidth < 600;
            const particleCount = isNarrow ? 12 : 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Random size and position
                const size = Math.random() * (isNarrow ? 3 : 4) + 1;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                
                // Random animation delay and duration
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + (isNarrow ? 4 : 3)) + 's';
                
                particlesContainer.appendChild(particle);
            }
        }

        // Create twinkling stars
        function createStars() {
            if (window.LOW_POWER_MODE || window.innerWidth < 600) return;
            
            const starCount = 80;
            const gameCards = document.querySelectorAll('.game-card');
            
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                
                let validPosition = false;
                let attempts = 0;
                let left, top;
                
                // Try to find a position that doesn't overlap with game cards
                while (!validPosition && attempts < 50) {
                    left = Math.random() * 100;
                    top = Math.random() * 100;
                    validPosition = true;
                    
                    // Check if star would be inside any game card
                    const starX = (left / 100) * window.innerWidth;
                    const starY = (top / 100) * window.innerHeight;
                    
                    for (const card of gameCards) {
                        const rect = card.getBoundingClientRect();
                        if (starX >= rect.left && starX <= rect.right &&
                            starY >= rect.top && starY <= rect.bottom) {
                            validPosition = false;
                            break;
                        }
                    }
                    attempts++;
                }
                
                star.style.left = left + '%';
                star.style.top = top + '%';
                
                // Random animation duration and delay for varied twinkling
                const duration = 2 + Math.random() * 3;
                const delay = Math.random() * 4;
                star.style.animation = `twinkle ${duration}s ease-in-out ${delay}s infinite`;
                
                document.body.appendChild(star);
            }
        }

        // Create sparkle effects on mouse move
        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.width = '4px';
            sparkle.style.height = '4px';
            document.body.appendChild(sparkle);

            setTimeout(() => {
                sparkle.remove();
            }, 2000);
        }

        // Add mouse move sparkle effect
        let sparkleTimer;
        document.addEventListener('mousemove', (e) => {
            // Respect low-power mode and disable sparkles on narrow/touch devices to save CPU
            if (window.LOW_POWER_MODE || window.innerWidth < 600) return;
            clearTimeout(sparkleTimer);
            sparkleTimer = setTimeout(() => {
                if (Math.random() > 0.8) { // Only create sparkles 20% of the time
                    createSparkle(e.clientX, e.clientY);
                }
            }, 100);
        });

        // Fetch and display deployment info
        (function() {
            fetch('/deployment-info.json')
                .then(response => response.json())
                .then(data => {
                    const lastDeploy = new Date(data.lastDeployment);
                    const now = new Date();
                    const diffMs = now - lastDeploy;
                    const diffMins = Math.floor(diffMs / 60000);
                    const diffHours = Math.floor(diffMs / 3600000);
                    const diffDays = Math.floor(diffMs / 86400000);
                    
                    let timeAgo;
                    if (diffMins < 60) {
                        timeAgo = diffMins + 'm ago';
                    } else if (diffHours < 24) {
                        timeAgo = diffHours + 'h ago';
                    } else {
                        timeAgo = diffDays + 'd ago';
                    }
                    
                    const formatted = lastDeploy.toLocaleString('sv-SE').replace(' T', ' ');
                    const infoEl = document.getElementById('deployment-info');
                    if (infoEl) {
                        infoEl.textContent = `üöÄ Last deployment: ${formatted} (~${timeAgo})`;
                        infoEl.style.display = 'block';
                    }
                })
                .catch(e => {
                    console.log('Deployment info unavailable:', e);
                    const infoEl = document.getElementById('deployment-info');
                    if (infoEl) {
                        infoEl.style.display = 'none';
                    }
                });
        })();

        // Initialize particles when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // set toggle UI state and listeners for theme switch
            const themeSwitch = document.getElementById('themeSwitch');
            if (themeSwitch) {
                const handleThemeClick = () => {
                    applyTheme(window.THEME_MODE === 'dark' ? 'light' : 'dark');
                };
                themeSwitch.removeEventListener('click', handleThemeClick);
                themeSwitch.addEventListener('click', handleThemeClick);
                
                const handleThemeKeydown = (e) => { 
                    if (e.key === 'Enter' || e.key === ' ') { 
                        e.preventDefault(); 
                        applyTheme(window.THEME_MODE === 'dark' ? 'light' : 'dark'); 
                    } 
                };
                themeSwitch.removeEventListener('keydown', handleThemeKeydown);
                themeSwitch.addEventListener('keydown', handleThemeKeydown);
                console.log('Theme switch initialized');
            }
            
            // Apply saved theme setting
            applyTheme(window.THEME_MODE);

            // Initialize minimize button
            const minimizeBtn = document.getElementById('footer-minimize-btn');
            if (minimizeBtn) {
                minimizeBtn.addEventListener('click', function() {
                    const footer = document.getElementById('main-footer');
                    if (footer) {
                        console.log('Hiding footer...');
                        footer.style.transform = 'translateY(100%)';
                        const restoreTab = document.getElementById('footer-restore-tab');
                        if (restoreTab) {
                            restoreTab.style.display = 'block';
                            console.log('Restore tab shown');
                        }
                        localStorage.setItem('footer-hidden-time', Date.now().toString());
                        updateFooterPadding();
                        console.log('Footer hidden successfully');
                    } else {
                        console.log('Error: main-footer element not found');
                    }
                });
                console.log('Minimize button initialized');
            }

            // Create particles only if low power is off
            if (!window.LOW_POWER_MODE) {
                createParticles();
                createStars();
            }
        });

        // Add click sound effect simulation (visual feedback)
        document.querySelectorAll('.play-button').forEach(button => {
            button.addEventListener('click', function(e) {
                // Create temporary glow effect
                this.style.boxShadow = '0 0 30px rgba(255, 255, 255, 0.8)';
                setTimeout(() => {
                    this.style.boxShadow = '';
                }, 200);
            });
        });

        // Site-wide mute button behavior
        (function(){
            const muteBtn = document.getElementById('siteMuteBtn');
            const muteIcon = document.getElementById('siteMuteIcon');
            const saved = localStorage.getItem('site_mute') === '1';
            let muted = saved;

            function updateIcon() {
                muteIcon.innerHTML = muted ? '<svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M3.63 3.63a.996.996 0 000 1.41L7.29 8.7 7 9H4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71v-4.17l4.18 4.18c-.49.37-1.02.68-1.6.91-.36.15-.58.53-.58.92 0 .72.73 1.18 1.39.91.8-.33 1.55-.77 2.22-1.31l1.34 1.34a.996.996 0 101.41-1.41L5.05 3.63c-.39-.39-1.02-.39-1.42 0zM19 12c0 .82-.15 1.61-.41 2.34l1.53 1.53c.56-1.17.88-2.48.88-3.87 0-3.83-2.4-7.11-5.78-8.4-.59-.23-1.22.23-1.22.86v.19c0 .38.25.71.61.85C17.18 6.54 19 9.06 19 12zm-8.71-6.29l-.17.17L12 7.76V6.41c0-.89-1.08-1.33-1.71-.7zM16.5 12A4.5 4.5 0 0014 7.97v1.79l2.48 2.48c.01-.08.02-.16.02-.24z"/></svg>' : '<svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor"><path d="M3 10v4c0 .55.45 1 1 1h3l3.29 3.29c.63.63 1.71.18 1.71-.71V6.41c0-.89-1.08-1.34-1.71-.71L7 9H4c-.55 0-1 .45-1 1zm13.5 2A4.5 4.5 0 0014 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 4.45v.2c0 .38.25.71.6.85C17.18 6.53 19 9.06 19 12s-1.82 5.47-4.4 6.5c-.36.14-.6.47-.6.85v.2c0 .63.63 1.07 1.21.85C18.6 19.11 21 15.84 21 12s-2.4-7.11-5.79-8.4c-.58-.23-1.21.22-1.21.85z"/></svg>';
                muteBtn.setAttribute('aria-pressed', muted ? 'true' : 'false');
            }

            function applyMute() {
                // Try to mute any AudioManager exposed on the page (convention: window.audio or audio)
                try {
                    const candidates = [window.audio, window.game && window.game.audio, window.audioManager];
                    for (const c of candidates) {
                        if (c && c.masterGain && typeof c.masterGain.gain !== 'undefined') {
                            c.masterGain.gain.value = muted ? 0 : (c._previousMasterGain || 0.35);
                            // remember original gain if not set
                            if (!c._previousMasterGain) c._previousMasterGain = 0.35;
                        } else if (c && c.ctx && c.ctx.destination) {
                            // Best-effort: reduce destination gain by creating a master gain if not present
                        }
                    }
                } catch (err) {
                    console.warn('Failed to apply site mute to page audio', err);
                }
            }

            updateIcon();
            applyMute();

            // BroadcastChannel to notify other tabs/pages about mute changes
            const bc = (typeof BroadcastChannel !== 'undefined') ? new BroadcastChannel('javasnake-global') : null;

            muteBtn.addEventListener('click', () => {
                muted = !muted;
                localStorage.setItem('site_mute', muted ? '1' : '0');
                updateIcon();
                applyMute();
                // notify other tabs
                if (bc) bc.postMessage({type: 'MUTE_CHANGED', muted: muted});
            });

            // Listen for mute changes from other tabs
            if (bc) {
                bc.addEventListener('message', (ev) => {
                    try {
                        const d = ev.data;
                        if (d && d.type === 'MUTE_CHANGED') {
                            muted = !!d.muted;
                            localStorage.setItem('site_mute', muted ? '1' : '0');
                            updateIcon();
                            applyMute();
                        }
                    } catch (e) { console.warn(e); }
                });
            }

            // Also react to storage events (fallback for older browsers)
            window.addEventListener('storage', (e) => {
                if (e.key === 'site_mute') {
                    const val = e.newValue === '1';
                    muted = val;
                    updateIcon();
                    applyMute();
                }
            });
        })();

        // Konami code easter egg
        let konamiCode = [];
        const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA'];
        
        document.addEventListener('keydown', function(e) {
            konamiCode.push(e.code);
            if (konamiCode.length > konamiSequence.length) {
                konamiCode.shift();
            }
            
            if (JSON.stringify(konamiCode) === JSON.stringify(konamiSequence)) {
                // Easter egg: extra sparkles!
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        createSparkle(Math.random() * window.innerWidth, Math.random() * window.innerHeight);
                    }, i * 100);
                }
                konamiCode = [];
            }
        });
    </script>
    
    <!-- Discord community footer -->
    <footer style="width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:20px 10px;background:linear-gradient(135deg,#0f1724,rgba(0,0,0,0.0));position:fixed;left:0;bottom:0;z-index:9999;gap:12px;">
        <div style="max-width:1100px;width:100%;display:flex;gap:16px;align-items:center;justify-content:center;flex-wrap:wrap;">
            <div style="display:flex;align-items:center;gap:14px;">
                <div style="color:#fff;text-align:left;">
                    <div style="font-weight:700;font-size:1rem;">Join the JavaSnake Discord</div>
                    <div style="font-size:0.9rem;opacity:0.85;">Chat about the site, share ideas, give feedback, and find playtesters.</div>
                </div>
            </div>
            <div style="margin-left:8px;">
                <a href="https://discord.gg/Zbk7CcF8Tb" target="_blank" rel="noopener noreferrer" style="display:inline-block;background:linear-gradient(90deg,#5865F2,#6C7CFF);color:white;padding:12px 18px;border-radius:14px;font-weight:700;text-decoration:none;box-shadow:0 8px 30px rgba(88,101,242,0.22);">Join Discord</a>
            </div>
        </div>
        <div style="width:100%;display:flex;justify-content:center;">
            <button id="force-update-btn" onclick="window.forceCheckForUpdates && window.forceCheckForUpdates()" style="background:linear-gradient(90deg,#ff6b6b,#ee5a52);color:white;padding:8px 16px;border:none;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 4px 12px rgba(255,107,107,0.3);font-size:0.85rem;transition:all 0.3s ease;" onmouseover="this.style.transform='scale(1.05)';this.style.boxShadow='0 6px 16px rgba(255,107,107,0.4)'" onmouseout="this.style.transform='scale(1)';this.style.boxShadow='0 4px 12px rgba(255,107,107,0.3)'">üîÑ Force Pull Latest Version</button>
        </div>
    </footer>
    <script>
        // Ensure fixed footer doesn't cover clickable content at the bottom
        (function(){
            function updateFooterPadding(){
                try {
                    var f = document.querySelector('footer');
                    if (!f) return;
                    var h = f.offsetHeight || 100;
                    document.body.style.paddingBottom = h + 'px';
                } catch (e) {
                    console.warn('updateFooterPadding error', e);
                }
            }

            // Run on load and resize
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', updateFooterPadding);
            } else {
                updateFooterPadding();
            }
            window.addEventListener('resize', updateFooterPadding);

            // Use ResizeObserver when available for dynamic footer height changes
            try {
                if (window.ResizeObserver) {
                    var ro = new ResizeObserver(updateFooterPadding);
                    var fEl = document.querySelector('footer');
                    if (fEl) ro.observe(fEl);
                }
            } catch (e) {}
        })();
    </script>
    
    <!-- Auto-update functionality for main site -->
    <script>
        (function() {
            let refreshTimeout;
            const ONE_DAY_MS = 24 * 60 * 60 * 1000;
            
            // Check for version updates
            async function checkForUpdates(force = false) {
                try {
                    // Check if we should skip (only if not forced and checked within last 24 hours)
                    if (!force) {
                        const lastCheck = localStorage.getItem('javasnake-last-check');
                        if (lastCheck) {
                            const timeSinceCheck = Date.now() - parseInt(lastCheck);
                            if (timeSinceCheck < ONE_DAY_MS) {
                                console.log('Skipping auto-update check (last checked', Math.round(timeSinceCheck / 1000 / 60), 'minutes ago)');
                                return;
                            }
                        }
                    }
                    
                    const response = await fetch('./version.json', {
                        cache: 'no-cache',
                        headers: {
                            'Cache-Control': 'no-cache',
                            'Pragma': 'no-cache'
                        }
                    });
                    
                    if (response.ok) {
                        const versionData = await response.json();
                        const serverVersion = versionData.version;
                        const currentVersion = localStorage.getItem('javasnake-version') || '1.0.0';
                        
                        // Update last check timestamp
                        localStorage.setItem('javasnake-last-check', Date.now().toString());
                        
                        if (serverVersion !== currentVersion) {
                            console.log('JavaSnake site version mismatch:', currentVersion, '->', serverVersion);
                            localStorage.setItem('javasnake-version', serverVersion);
                            
                            showUpdateNotification(force ? 'Pulling latest version...' : 'Site updated! Refreshing to get the latest version...');
                            
                            // Auto-refresh after 2 seconds
                            refreshTimeout = setTimeout(() => {
                                window.location.reload(true);
                            }, 2000);
                        } else if (force) {
                            showUpdateNotification('‚úÖ You already have the latest version!', false);
                        }
                    }
                } catch (error) {
                    console.error('Site version check failed:', error);
                    if (force) {
                        showUpdateNotification('‚ùå Failed to check for updates. Please try again.', false);
                    }
                }
            }
            
            // Show update notification
            function showUpdateNotification(message, willRefresh = true) {
                if (refreshTimeout) {
                    clearTimeout(refreshTimeout);
                }
                
                let notification = document.getElementById('site-update-notification');
                if (!notification) {
                    notification = document.createElement('div');
                    notification.id = 'site-update-notification';
                    notification.style.cssText = `
                        position: fixed;
                        top: 20px;
                        left: 50%;
                        transform: translateX(-50%);
                        background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
                        color: white;
                        padding: 15px 25px;
                        border-radius: 25px;
                        font-weight: bold;
                        font-size: 1rem;
                        box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
                        z-index: 10000;
                        text-align: center;
                        max-width: 90vw;
                        animation: slideDown 0.5s ease-out;
                        font-family: 'Orbitron', monospace;
                        border: 2px solid rgba(255, 255, 255, 0.2);
                    `;
                    
                    // Add animation if not already present
                    if (!document.querySelector('#site-update-style')) {
                        const style = document.createElement('style');
                        style.id = 'site-update-style';
                        style.textContent = `
                            @keyframes slideDown {
                                from { transform: translateX(-50%) translateY(-100%); opacity: 0; }
                                to { transform: translateX(-50%) translateY(0); opacity: 1; }
                            }
                        `;
                        document.head.appendChild(style);
                    }
                    
                    document.body.appendChild(notification);
                }
                
                notification.textContent = message;
                notification.style.display = 'block';
                
                if (willRefresh) {
                    // Click to refresh immediately
                    notification.onclick = () => {
                        window.location.reload(true);
                    };
                    notification.style.cursor = 'pointer';
                    notification.title = 'Click to refresh now';
                } else {
                    // Auto-hide after 3 seconds for informational messages
                    notification.style.cursor = 'default';
                    notification.onclick = null;
                    notification.title = '';
                    setTimeout(() => {
                        notification.style.display = 'none';
                    }, 3000);
                }
            }
            
            // Expose force update function globally --daz
            window.forceCheckForUpdates = function() {
                console.log('Force checking for updates...');
                checkForUpdates(true);
            }
            
            // Start version checking
            function startVersionChecking() {
                // Check once after 3 seconds (will be skipped if checked within last 24 hours)
                setTimeout(() => checkForUpdates(false), 3000);
            }
            
            // Initialize when page loads
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', startVersionChecking);
            } else {
                startVersionChecking();
            }
        })();
    </script>
</body>
</html>

