<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Enhanced SEO Meta Tags for JavaSnake keyword targeting -->
    <title>JavaSnake.com - Premium JavaSnake HTML5 Games Collection</title>
    <meta name="description" content="JavaSnake.com is the ultimate destination for JavaSnake gaming. Play exclusive JavaSnake HTML5 games including Zombie Shooter, Space Shooter, Tetris, Dino Jump, Wordle Unlimited, and Soundboard. Experience JavaSnake's premium browser gaming platform with mobile-optimized controls and instant play.">
    <meta name="keywords" content="javasnake, java snake, javasnake.com, javasnake games, javasnake gaming, javasnake platform, HTML5 games, browser games, zombie shooter javasnake, space shooter javasnake, tetris javasnake, dino jump javasnake, wordle unlimited javasnake, soundboard javasnake, word games, wordle, mobile games, web games, online games, arcade games, indie games, free games">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="author" content="JavaSnake Gaming Platform">
    <meta name="publisher" content="JavaSnake.com">
    <link rel="canonical" href="https://javasnake.com/">
    
    <!-- Website Icons and Favicons -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üêç</text></svg>">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
    <link rel="manifest" href="/site.webmanifest">
    <meta name="theme-color" content="#16213e">
    <meta name="msapplication-TileColor" content="#16213e">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Open Graph / Social preview -->
    <meta property="og:site_name" content="JavaSnake.com">
    <meta property="og:title" content="JavaSnake.com - Premium JavaSnake HTML5 Games Platform">
    <meta property="og:description" content="JavaSnake.com offers the best JavaSnake gaming experience with premium HTML5 games. Play JavaSnake Zombie Shooter, Space Shooter, Tetris, Dino Jump, Wordle Unlimited, and Soundboard. Mobile-optimized JavaSnake games with instant browser play.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://javasnake.com/">
    <!-- Consider replacing with an actual preview image if available -->
    <meta property="og:image" content="https://javasnake.com/games-HTML5/preview.png">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="JavaSnake.com - Premium JavaSnake HTML5 Games Platform">
    <meta name="twitter:description" content="JavaSnake.com offers the best JavaSnake gaming experience with premium HTML5 games. Play JavaSnake Zombie Shooter, Space Shooter, Tetris, Dino Jump, Wordle Unlimited, and Soundboard. Mobile-optimized JavaSnake games with instant browser play.">
    <meta name="twitter:image" content="https://javasnake.com/games-HTML5/preview.png">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&amp;family=Exo+2:wght@300;400;600;800&amp;display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Exo 2', sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 25%, #16213e  50%, #0f3460 75%, #533483 100%);
            background-attachment: fixed;
            min-height: 100vh;
            overflow-x: hidden;
            color: #fff;
        }

        /* Visible Low Power background + muted effects */
        body.low-power {
            /* vivid red background to make low-power state unmistakable */
            background: linear-gradient(135deg, #b31217 0%, #ff2d2d 100%);
            transition: background 300ms ease;
            color: #ffffff; /* ensure readable text */
        }

        body.low-power .logo {
            /* mute neon glow but keep readable on red */
            filter: grayscale(0.2) brightness(0.95);
            text-shadow: none;
            -webkit-text-fill-color: #ffffff;
        }

        body.low-power .play-button {
            opacity: 0.95;
            box-shadow: none;
            background: linear-gradient(90deg, #ff6b6b, #ff8a8a); /* softer on red */
            color: #111;
        }

        /* Animated background particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.1; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.3; }
        }

        /* Main container */
        .container {
            position: relative;
            z-index: 10;
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Blinking neon header */
        .header {
            text-align: center;
            margin-bottom: 4rem;
            position: relative;
            overflow: visible; /* allow neon glow to show and prevent clipping */
        }

        .logo {
            font-family: 'Orbitron', monospace;
            /* scaled down 15% for a slightly smaller neon sign */
            font-size: clamp(2.55rem, 6.8vw, 5.95rem);
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #f9ca24, #f0932b, #eb4d4b, #6c5ce7);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            animation: gradientShift 3s ease-in-out infinite, neonBlink 2s ease-in-out infinite;
            text-shadow: 
                0 0 5px rgba(255, 255, 255, 0.5),
                0 0 10px rgba(255, 255, 255, 0.5),
                0 0 15px rgba(255, 255, 255, 0.5),
                0 0 20px #ff6b6b,
                0 0 35px #ff6b6b,
                0 0 40px #ff6b6b;
            position: relative;
            display: inline-block; /* keep it on one line and allow padding */
            white-space: nowrap; /* prevent wrapping that can chop characters */
            -webkit-text-fill-color: transparent; /* ensure gradient clip works in Chrome */
            padding: 0 8px; /* small horizontal padding so last glyph doesn't get clipped */
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        @keyframes neonBlink {
            0%, 100% { 
                filter: brightness(1) saturate(1);
                text-shadow: 
                    0 0 5px rgba(255, 255, 255, 0.5),
                    0 0 10px rgba(255, 255, 255, 0.5),
                    0 0 15px rgba(255, 255, 255, 0.5),
                    0 0 20px #ff6b6b,
                    0 0 35px #ff6b6b,
                    0 0 40px #ff6b6b;
            }
            50% { 
                filter: brightness(1.3) saturate(1.5);
                text-shadow: 
                    0 0 10px rgba(255, 255, 255, 0.8),
                    0 0 20px rgba(255, 255, 255, 0.8),
                    0 0 30px rgba(255, 255, 255, 0.8),
                    0 0 40px #4ecdc4,
                    0 0 70px #4ecdc4,
                    0 0 80px #4ecdc4;
            }
        }

        .subtitle {
            font-size: clamp(1rem, 3vw, 1.5rem);
            color: rgba(255, 255, 255, 0.8);
            margin-top: 1rem;
            font-weight: 300;
            letter-spacing: 0.1em;
        }

        /* Low Power Mode toggle */
        .low-power-toggle {
            position: absolute;
            right: 1.5rem;
            top: 1.5rem;
            z-index: 30;
            display: flex;
            align-items: center;
            gap: 0.6rem;
            color: rgba(255,255,255,0.9);
            font-size: 0.95rem;
            user-select: none;
        }

        .toggle-switch {
            width: 46px;
            height: 26px;
            background: rgba(255,255,255,0.15);
            border-radius: 999px;
            position: relative;
            cursor: pointer;
            transition: background 0.2s ease;
            border: 1px solid rgba(255,255,255,0.08);
        }

        .toggle-switch .knob {
            position: absolute;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: left 0.2s ease, transform 0.2s ease;
            box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        }

        .toggle-switch.on { background: linear-gradient(90deg, #4ecdc4, #45b7d1); }
        .toggle-switch.on .knob { left: 23px; transform: scale(0.98); }

        /* Low-power global adjustments */
        .low-power .particles,
        .low-power .sparkle { display: none !important; }
        .low-power .game-card { backdrop-filter: none !important; box-shadow: none !important; }

        /* Low power active badge */
        .low-power-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.08);
            color: #fff;
            font-size: 0.7rem;
            padding: 4px 8px;
            border-radius: 999px;
            border: 1px solid rgba(255,255,255,0.06);
            margin-left: 0.4rem;
            box-shadow: 0 2px 6px rgba(0,0,0,0.25);
        }

        /* Games grid */
        .games-grid {
            display: grid;
            /* allow small devices to fit cards better */
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2.5rem;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }

        .game-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s;
        }

        .game-card:hover::before {
            left: 100%;
        }

        .game-card:hover {
            transform: translateY(-10px) scale(1.02);
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.3),
                0 0 30px rgba(255, 255, 255, 0.1);
        }

        .game-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));
        }

        .game-title {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #4ecdc4, #45b7d1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .game-description {
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 2rem;
            line-height: 1.6;
            font-size: 1.1rem;
        }

        .play-button {
            display: inline-block;
            padding: 1rem 2rem;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .play-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, #4ecdc4, #ff6b6b);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .play-button:hover::before {
            left: 0;
        }

        .play-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 107, 107, 0.3);
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 4rem;
            padding: 2rem;
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.9rem;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .games-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .game-card {
                padding: 2rem;
            }
            
            .container {
                padding: 1rem;
            }
        }

        /* Mobile-specific optimizations */
        @media (max-width: 600px) {
            /* Turn off heavy visuals on small screens to save battery/CPU */
            .particles, .sparkle { display: none !important; }
            .game-card { backdrop-filter: none; /* fallback for unsupported/expensive blur */ }
        }

        @media (max-width: 420px) {
            /* mobile logo reduced by 15% */
            .logo { font-size: clamp(1.53rem, 10.2vw, 3.57rem); padding: 0 6px; }
            .play-button { display: block; width: 100%; box-sizing: border-box; }
            .game-icon { font-size: 3rem; }
        }

        /* Glowing border animation */
        @keyframes borderGlow {
            0%, 100% { border-color: rgba(255, 255, 255, 0.1); }
            50% { border-color: rgba(78, 205, 196, 0.5); }
        }

        .game-card {
            animation: borderGlow 4s ease-in-out infinite;
        }

        /* Additional sparkle effects */
        .sparkle {
            position: absolute;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            animation: sparkle 2s linear infinite;
        }

        @keyframes sparkle {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1) rotate(180deg); opacity: 0.5; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }
    </style>
</head>
<body>
    <!-- Low Power Mode toggle (positioned top-right) -->
    <div class="low-power-toggle" role="region" aria-label="Low Power Mode">
        <span id="lowPowerLabel">Low Power</span>
        <div id="lowPowerSwitch" class="toggle-switch" role="switch" aria-checked="false" tabindex="0">
            <div class="knob"></div>
        </div>
        <span id="lowPowerBadge" class="low-power-badge" style="display:none">Low</span>
    </div>

    <!-- Site-wide mute toggle (moved to top-left) -->
    <div class="low-power-toggle" style="left:10px; top:10px; right:auto; position:fixed; z-index:10001;" role="region" aria-label="Mute site audio">
        <button id="siteMuteBtn" class="toggle-switch" aria-pressed="false" title="Mute / Unmute site audio" style="display:flex;align-items:center;justify-content:center;padding:6px 10px; min-width:44px;">
            <span id="siteMuteIcon">üîä</span>
        </button>
    </div>

    <!-- ARIA live region for assistive announcements -->
    <div id="ariaLive" aria-live="polite" aria-atomic="true" style="position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden;"> </div>

    <!-- Animated background particles -->
    <div class="particles" id="particles"></div>

    <div class="container">
        <header class="header">
            <h1 class="logo"> JavaSnake</h1>
            <p class="subtitle">Premium HTML5 Gaming Platform</p>
        </header>

        <div class="games-grid">
            <!-- Row 1: Soundboard, Tetris, Zombie Shooter -->
            <!-- Soundboard -->
            <div class="game-card">
                <div class="game-icon">üéµ</div>
                <h2 class="game-title">Soundboard</h2>
                <p class="game-description">
                    Interactive soundboard with fun audio clips! Play various sound effects 
                    with the click of a button. Features volume control, multiple sounds, 
                    and an entertaining collection of audio clips!
                </p>
                <a href="soundboard/soundboard.html" class="play-button">Play Now</a>
            </div>

            <!-- Tetris Game -->
            <div class="game-card">
                <div class="game-icon">üß©</div>
                <h2 class="game-title">Tetris</h2>
                <p class="game-description">
                    Classic falling block puzzle game! Clear lines by filling rows completely, 
                    with increasing speed and difficulty. Features smooth controls, 
                    line clearing effects, and endless addictive gameplay!
                </p>
                <a href="tetris/tetris.html" class="play-button">Play Now</a>
            </div>

            <!-- Zombie Shooter Game -->
            <div class="game-card">
                <div class="game-icon">üßü‚Äç‚ôÇÔ∏è</div>
                <h2 class="game-title">Zombie Shooter</h2>
                <p class="game-description">
                    Survive the undead apocalypse! Battle waves of zombies, collect power-ups, 
                    and upgrade your arsenal in this intense top-down shooter. Features boss battles, 
                    multiple weapon types, and endless zombie-slaying action!
                </p>
                <a href="zombie-shooter/aleks-ZS.html" class="play-button">Play Now</a>
            </div>

            <!-- Row 2: Space Shooter, Dino Jump -->
            <!-- Tic Tac Toe Game -->
            <div class="game-card">
                <div class="game-icon">‚≠ï</div>
                <h2 class="game-title">Tic Tac Toe</h2>
                <p class="game-description">
                    Classic strategy game with multiple modes! Play against AI with Easy, Medium, 
                    or Hard difficulty levels, or challenge a friend in Player vs Player mode. 
                    Features smart AI that adapts to your skill level!
                </p>
                <a href="tic-tac-toe/tictoe.html" class="play-button">Play Now</a>
            </div>

            <!-- Dino Jump Game -->
            <div class="game-card">
                <div class="game-icon">ü¶ñ</div>
                <h2 class="game-title">Dino Jump</h2>
                <p class="game-description">
                    Classic endless runner! Jump over cacti and dodge pterodactyls in this 
                    thrilling dinosaur adventure. Features increasing speed, multiple obstacles, 
                    and addictive gameplay that gets faster as you progress!
                </p>
                <a href="dino-jump/dino-jump.html" class="play-button">Play Now</a>
            </div>

            <!-- Wordle Unlimited Game -->
            <div class="game-card">
                <div class="game-icon">üìù</div>
                <h2 class="game-title">Wordle Unlimited</h2>
                <p class="game-description">
                    Unlimited word puzzles! Guess the 5-letter word in 6 tries with 500+ different words. 
                    Features authentic Wordle gameplay, statistics tracking, and endless replay value. 
                    Perfect for word game enthusiasts inspiration by youtuber vokenz!
                </p>
                <a href="wordle-unlimited/wordle-unlimited.html" class="play-button">Play Now</a>
            </div>
        </div>

        <footer class="footer">
            <p>&#169; 2025 JavaSnake.com - Premium HTML5 Gaming Platform</p>
            <p>Built with modern web technologies for the ultimate gaming experience</p>
            <p style="font-size:0.75rem; opacity:0.85; margin-top:6px; display:flex; gap:12px; justify-content:center; align-items:center;">
                <a href="/daily-stats.html" style="color:inherit; text-decoration:underline; opacity:0.85;">Daily stats</a>
                <span style="opacity:0.6;">‚Ä¢</span>
                <a href="/weekly-stats.html" style="color:inherit; text-decoration:underline; opacity:0.85;">Weekly stats</a>
                <span style="opacity:0.6;">‚Ä¢</span>
                <a href="/all-time-stats.html" style="color:inherit; text-decoration:underline; opacity:0.85;">All-time stats</a>
            </p>
        </footer>
    </div>

    <script>
        // Structured data: List of games for search engines (JSON-LD)
        // NOTE: uses relative URLs; update to absolute URLs if you have a canonical domain.
        (function(){
            const ld = {
                "@context": "https://schema.org",
                "@type": "ItemList",
                "name": "JavaSnake.com Games",
                "url": "https://javasnake.com/",
                "description": "Collection of free HTML5 browser games including Zombie Shooter, Space Shooter, and Tetris.",
                "itemListElement": [
                    {
                        "@type": "ListItem",
                        "position": 1,
                        "item": {
                            "@type": "Game",
                            "name": "Soundboard",
                            "description": "Interactive soundboard with fun audio clips and sound effects.",
                            "url": "https://javasnake.com/soundboard/soundboard.html"
                        }
                    },
                    {
                        "@type": "ListItem",
                        "position": 2,
                        "item": {
                            "@type": "Game",
                            "name": "Tetris",
                            "description": "Classic falling block puzzle game with smooth controls and progressive difficulty.",
                            "url": "https://javasnake.com/tetris/tetris.html"
                        }
                    },
                    {
                        "@type": "ListItem",
                        "position": 3,
                        "item": {
                            "@type": "Game",
                            "name": "Zombie Shooter",
                            "description": "Top-down zombie shooter with upgrades, pets and boss battles.",
                            "url": "https://javasnake.com/zombie-shooter/aleks-ZS.html"
                        }
                    },
                    {
                        "@type": "ListItem",
                        "position": 4,
                        "item": {
                            "@type": "Game",
                            "name": "Space Shooter",
                            "description": "Arcade space shooter with asteroids and alien waves.",
                            "url": "https://javasnake.com/space-shooter/shaungame.html"
                        }
                    },
                    {
                        "@type": "ListItem",
                        "position": 5,
                        "item": {
                            "@type": "Game",
                            "name": "Dino Jump",
                            "description": "Classic endless runner with jumping dinosaur, obstacles, and increasing speed.",
                            "url": "https://javasnake.com/dino-jump/dino-jump.html"
                        }
                    },
                    {
                        "@type": "ListItem",
                        "position": 6,
                        "item": {
                            "@type": "Game",
                            "name": "Wordle Unlimited",
                            "description": "Unlimited word puzzles with 500+ different words. Guess the 5-letter word in 6 tries.",
                            "url": "https://javasnake.com/wordle-unlimited/wordle-unlimited.html"
                        }
                    }
                ]
            };
            const s = document.createElement('script');
            s.type = 'application/ld+json';
            s.text = JSON.stringify(ld);
            document.head.appendChild(s);
        })();
        // Low Power initialization and particle creation
        window.LOW_POWER_MODE = (localStorage.getItem('lowPower') === '1');

        function applyLowPower(enabled) {
            window.LOW_POWER_MODE = !!enabled;
            document.body.classList.toggle('low-power', !!enabled);
            localStorage.setItem('lowPower', !!enabled ? '1' : '0');

            const particlesContainer = document.getElementById('particles');
            const sw = document.getElementById('lowPowerSwitch');
            if (sw) { sw.classList.toggle('on', !!enabled); sw.setAttribute('aria-checked', !!enabled ? 'true' : 'false'); }

            // Update visible badge
            const badge = document.getElementById('lowPowerBadge');
            if (badge) { badge.style.display = !!enabled ? 'inline-flex' : 'none'; }

            // Announce change for screen readers
            const live = document.getElementById('ariaLive');
            if (live) { live.textContent = !!enabled ? 'Low Power Mode enabled' : 'Low Power Mode disabled'; }

            if (enabled) {
                if (particlesContainer) particlesContainer.innerHTML = '';
            } else {
                if (particlesContainer && particlesContainer.children.length === 0) createParticles();
            }
        }

        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            if (!particlesContainer) return;
            if (window.LOW_POWER_MODE) return; // respect low power mode
            // Reduce particle count on narrow screens
            const isNarrow = window.innerWidth < 600;
            const particleCount = isNarrow ? 12 : 50;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // Random size and position
                const size = Math.random() * (isNarrow ? 3 : 4) + 1;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                
                // Random animation delay and duration
                particle.style.animationDelay = Math.random() * 6 + 's';
                particle.style.animationDuration = (Math.random() * 3 + (isNarrow ? 4 : 3)) + 's';
                
                particlesContainer.appendChild(particle);
            }
        }

        // Create sparkle effects on mouse move
        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.width = '4px';
            sparkle.style.height = '4px';
            document.body.appendChild(sparkle);

            setTimeout(() => {
                sparkle.remove();
            }, 2000);
        }

        // Add mouse move sparkle effect
        let sparkleTimer;
        document.addEventListener('mousemove', (e) => {
            // Respect low-power mode and disable sparkles on narrow/touch devices to save CPU
            if (window.LOW_POWER_MODE || window.innerWidth < 600) return;
            clearTimeout(sparkleTimer);
            sparkleTimer = setTimeout(() => {
                if (Math.random() > 0.8) { // Only create sparkles 20% of the time
                    createSparkle(e.clientX, e.clientY);
                }
            }, 100);
        });

        // Initialize particles and low-power UI when page loads
        document.addEventListener('DOMContentLoaded', () => {
            // set toggle UI state and listeners
            const sw = document.getElementById('lowPowerSwitch');
            if (sw) {
                sw.addEventListener('click', () => applyLowPower(!window.LOW_POWER_MODE));
                sw.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); applyLowPower(!window.LOW_POWER_MODE); } });
            }

            // Apply saved low power setting first and create particles only if low power is off
            applyLowPower(window.LOW_POWER_MODE);
            if (!window.LOW_POWER_MODE) createParticles();
        });

        // Add click sound effect simulation (visual feedback)
        document.querySelectorAll('.play-button').forEach(button => {
            button.addEventListener('click', function(e) {
                // Create temporary glow effect
                this.style.boxShadow = '0 0 30px rgba(255, 255, 255, 0.8)';
                setTimeout(() => {
                    this.style.boxShadow = '';
                }, 200);
            });
        });

        // Site-wide mute button behavior
        (function(){
            const muteBtn = document.getElementById('siteMuteBtn');
            const muteIcon = document.getElementById('siteMuteIcon');
            const saved = localStorage.getItem('site_mute') === '1';
            let muted = saved;

            function updateIcon() {
                muteIcon.textContent = muted ? 'üîá' : 'üîä';
                muteBtn.setAttribute('aria-pressed', muted ? 'true' : 'false');
            }

            function applyMute() {
                // Try to mute any AudioManager exposed on the page (convention: window.audio or audio)
                try {
                    const candidates = [window.audio, window.game && window.game.audio, window.audioManager];
                    for (const c of candidates) {
                        if (c && c.masterGain && typeof c.masterGain.gain !== 'undefined') {
                            c.masterGain.gain.value = muted ? 0 : (c._previousMasterGain || 0.35);
                            // remember original gain if not set
                            if (!c._previousMasterGain) c._previousMasterGain = 0.35;
                        } else if (c && c.ctx && c.ctx.destination) {
                            // Best-effort: reduce destination gain by creating a master gain if not present
                        }
                    }
                } catch (err) {
                    console.warn('Failed to apply site mute to page audio', err);
                }
            }

            updateIcon();
            applyMute();

            // BroadcastChannel to notify other tabs/pages about mute changes
            const bc = (typeof BroadcastChannel !== 'undefined') ? new BroadcastChannel('javasnake-global') : null;

            muteBtn.addEventListener('click', () => {
                muted = !muted;
                localStorage.setItem('site_mute', muted ? '1' : '0');
                updateIcon();
                applyMute();
                // notify other tabs
                if (bc) bc.postMessage({type: 'MUTE_CHANGED', muted: muted});
            });

            // Listen for mute changes from other tabs
            if (bc) {
                bc.addEventListener('message', (ev) => {
                    try {
                        const d = ev.data;
                        if (d && d.type === 'MUTE_CHANGED') {
                            muted = !!d.muted;
                            localStorage.setItem('site_mute', muted ? '1' : '0');
                            updateIcon();
                            applyMute();
                        }
                    } catch (e) { console.warn(e); }
                });
            }

            // Also react to storage events (fallback for older browsers)
            window.addEventListener('storage', (e) => {
                if (e.key === 'site_mute') {
                    const val = e.newValue === '1';
                    muted = val;
                    updateIcon();
                    applyMute();
                }
            });
        })();

        // Konami code easter egg
        let konamiCode = [];
        const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA'];
        
        document.addEventListener('keydown', function(e) {
            konamiCode.push(e.code);
            if (konamiCode.length > konamiSequence.length) {
                konamiCode.shift();
            }
            
            if (JSON.stringify(konamiCode) === JSON.stringify(konamiSequence)) {
                // Easter egg: extra sparkles!
                for (let i = 0; i < 20; i++) {
                    setTimeout(() => {
                        createSparkle(Math.random() * window.innerWidth, Math.random() * window.innerHeight);
                    }, i * 100);
                }
                konamiCode = [];
            }
        });
    </script>
    
    <!-- Discord community footer -->
    <footer style="width:100%;display:flex;justify-content:center;align-items:center;padding:20px 10px;background:linear-gradient(135deg,#0f1724,rgba(0,0,0,0.0));position:fixed;left:0;bottom:0;z-index:9999;">
        <div style="max-width:1100px;width:100%;display:flex;gap:16px;align-items:center;justify-content:center;flex-wrap:wrap;">
            <div style="display:flex;align-items:center;gap:14px;">
                <img src="/games-HTML5/assets/discord-mark-white.png" alt="Discord" style="width:44px;height:44px;border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,.45);" onerror="this.style.display='none'"/>
                <div style="color:#fff;text-align:left;">
                    <div style="font-weight:700;font-size:1rem;">Join the JavaSnake Discord</div>
                    <div style="font-size:0.9rem;opacity:0.85;">Chat about the site, share ideas, give feedback, and find playtesters.</div>
                </div>
            </div>
            <div style="margin-left:8px;">
                <a href="https://discord.gg/Zbk7CcF8Tb" target="_blank" rel="noopener noreferrer" style="display:inline-block;background:linear-gradient(90deg,#5865F2,#6C7CFF);color:white;padding:12px 18px;border-radius:14px;font-weight:700;text-decoration:none;box-shadow:0 8px 30px rgba(88,101,242,0.22);">Join Discord</a>
            </div>
        </div>
    </footer>
    <script>
        // Ensure fixed footer doesn't cover clickable content at the bottom
        (function(){
            function updateFooterPadding(){
                try {
                    var f = document.querySelector('footer');
                    if (!f) return;
                    var h = f.offsetHeight || 100;
                    document.body.style.paddingBottom = h + 'px';
                } catch (e) {
                    console.warn('updateFooterPadding error', e);
                }
            }

            // Run on load and resize
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', updateFooterPadding);
            } else {
                updateFooterPadding();
            }
            window.addEventListener('resize', updateFooterPadding);

            // Use ResizeObserver when available for dynamic footer height changes
            try {
                if (window.ResizeObserver) {
                    var ro = new ResizeObserver(updateFooterPadding);
                    var fEl = document.querySelector('footer');
                    if (fEl) ro.observe(fEl);
                }
            } catch (e) {}
        })();
    </script>
    
    <!-- Auto-update functionality for main site -->
    <script>
        (function() {
            let refreshTimeout;
            
            // Check for version updates
            async function checkForUpdates() {
                try {
                    const response = await fetch('./version.json', {
                        cache: 'no-cache',
                        headers: {
                            'Cache-Control': 'no-cache',
                            'Pragma': 'no-cache'
                        }
                    });
                    
                    if (response.ok) {
                        const versionData = await response.json();
                        const serverVersion = versionData.version;
                        const currentVersion = localStorage.getItem('javasnake-version') || '1.0.0';
                        
                        if (serverVersion !== currentVersion) {
                            console.log('JavaSnake site version mismatch:', currentVersion, '->', serverVersion);
                            localStorage.setItem('javasnake-version', serverVersion);
                            
                            showUpdateNotification('Site updated! Refreshing to get the latest version...');
                            
                            // Auto-refresh after 2 seconds
                            refreshTimeout = setTimeout(() => {
                                window.location.reload(true);
                            }, 2000);
                        }
                    }
                } catch (error) {
                    console.error('Site version check failed:', error);
                }
            }
            
            // Show update notification
            function showUpdateNotification(message) {
                if (refreshTimeout) {
                    clearTimeout(refreshTimeout);
                }
                
                let notification = document.getElementById('site-update-notification');
                if (!notification) {
                    notification = document.createElement('div');
                    notification.id = 'site-update-notification';
                    notification.style.cssText = `
                        position: fixed;
                        top: 20px;
                        left: 50%;
                        transform: translateX(-50%);
                        background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
                        color: white;
                        padding: 15px 25px;
                        border-radius: 25px;
                        font-weight: bold;
                        font-size: 1rem;
                        box-shadow: 0 10px 30px rgba(255, 107, 107, 0.4);
                        z-index: 10000;
                        text-align: center;
                        max-width: 90vw;
                        animation: slideDown 0.5s ease-out;
                        font-family: 'Orbitron', monospace;
                        border: 2px solid rgba(255, 255, 255, 0.2);
                    `;
                    
                    // Add animation if not already present
                    if (!document.querySelector('#site-update-style')) {
                        const style = document.createElement('style');
                        style.id = 'site-update-style';
                        style.textContent = `
                            @keyframes slideDown {
                                from { transform: translateX(-50%) translateY(-100%); opacity: 0; }
                                to { transform: translateX(-50%) translateY(0); opacity: 1; }
                            }
                        `;
                        document.head.appendChild(style);
                    }
                    
                    document.body.appendChild(notification);
                }
                
                notification.textContent = message;
                notification.style.display = 'block';
                
                // Click to refresh immediately
                notification.onclick = () => {
                    window.location.reload(true);
                };
                notification.style.cursor = 'pointer';
                notification.title = 'Click to refresh now';
            }
            
            // Start version checking
            function startVersionChecking() {
                // Check immediately after 3 seconds
                setTimeout(checkForUpdates, 3000);
                
                // Then check every 2 minutes
                setInterval(checkForUpdates, 120000);
            }
            
            // Initialize when page loads
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', startVersionChecking);
            } else {
                startVersionChecking();
            }
        })();
    </script>
</body>
</html>